<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/000/iconfont.css">
    <link rel="stylesheet" href="../css/000/public.css">
    <link rel="stylesheet" href="../css/000/like.css">
    <link rel="stylesheet" href="../css/详情/详情页.css">
    <style>
        .add{
            width: 200px;
            margin-top: 20px;
            margin-left: 20px;
            cursor: pointer;
            height: 50px;
            background-color: #f93;
        }
        #tsk{
            width: 300px;
            height: 200px;
            background-color: #ffe4bf;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
            z-index: 99999999;
            text-align: center;
            box-sizing: border-box;
            padding-top: 50px;
            overflow: hidden;
            display: none;
        }
        #tsk #qd{
            width: 50px;
            height: 30px;
            margin-top: 64px;
            background-color:#1d6fb8;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="hint">
        <div class="content">
            <p>温馨提示: 受疫情影响，目前暂停发往新疆快件，在途包裹将在恢复后进行配送，不便之处敬请谅解 ！</p>
        </div>
    </div>
    <div id="header_top">
        <div class="content">
            <div class="header_top_left">
                <a href="#">
                    <img src="https://po-assets.azoyacdn.com/skin/frontend/PlumTree/po_pc_v2/images/flag.png" alt="">
                    <span>English Site</span>
                </a>
                <span> | </span>
                <span>客服咨询</span>
            </div>
            <div class="header_top_right">
                <a href="./登录.html">登录</a>
                <a href="./注册.html">注册</a>
                <span>|</span>
                <a href="#">我的订单</a>
                <a href="#">个人中心</a>
                <a href="#">我的收藏夹<i class="iconfont icon-xinaixin"></i></a>
                <a href="#" class="header_top_right_a6">关注我们<i class="iconfont icon-sanx-up"></i></a>
                <a href="#">帮助</a>
                <a href="#">消费者告知书</a>
            </div>
        </div>
    </div>
    <div id="header_bottom">
        <div class="content">
            <div class="arrange0">
                <a href="./首页.html">
                    <img src="https://po-assets.azoyacdn.com/skin/frontend/PlumTree/po_pc_v2/images/logo/logo.png" alt="" >
                </a>
            </div>
            <div class="arrange1">
                <img src="https://po-assets.azoyacdn.com/skin/frontend/PlumTree/po_pc_v2/images/slogan-new.png" alt="">
            </div>
            <div class="arrange2">
                <div class="search">
                    <form action="">
                        <i class="iconfont icon-fangdajing"></i>
                        <input type="text" placeholder="Eaoron"><button>搜 索</button>
                    </form>
                </div>
                <p>
                    <span>热门搜索</span>
                    <a href="#">A2</a>
                    <a href="#">面膜</a>
                    <a href="#">Unichi</a>
                    <a href="#">bio island</a>
                    <a href="#">cemoy</a>
                </p>
            </div>
            <div class="arrange3">
                <button>
                    <a href="../html/购物车.html">
                        <i class="iconfont icon-qicheqianlian-select"></i>
                        <i>我的购物车</i>
                    </a>
                </button>
            </div>
        </div>
    </div>
    <div id="nav">
        <div class="content">
            <a href="#">必入尖货</a>
            <a href="#">新品上线</a>
            <a href="#">营养保健</a>
            <a href="#">母婴产品</a>
            <a href="#">美妆个护</a>
            <a href="#">洗护日用</a>
            <a href="#">家庭常备</a>
            <a href="#">健康辅助</a>
            <a href="#">食品饮料</a>
            <a href="#">宠物护理</a>
            <a href="#">品牌A-Z</a>
        </div>
    </div>
    <div class="cont"></div>
    <div id="footer">
        <div class="synopsis">
            <div class="content">
                <div class="synopsis_left">
                    <h2>Pharmacy Online简介</h2>
                    <p>Pharmacy Online是澳洲药品保健品和营养品类电商之一， 总部位于澳大利亚新南威尔土州。1998年， Pharmacy Online以40年的处方药和医药企业经营经验，成立了网上药房后，并迅速发展成为澳大利亚受欢迎的在线药房之一。</p>
                    <p>2015年，Pharmacy Online开直邮中国业务，提供众多澳洲热销奶粉辅食，母婴用品，肌肤护理，营养保健品，家居用品等等，支持支付宝和银联支付，包裹全程可追踪，中文客服咨询服务，一站式购物带给你完美的澳淘体验!</p>    
                </div>
                <div class="synopsis_right">
                    <div>
                        <img src="https://po-assets.azoyacdn.com/skin/frontend/PlumTree/po_pc_v2/images/logo/wxcode.png" alt="">
                        <p>加微信，得优惠</p>
                    </div>
                    <div>
                        <img src="https://img-resource.azoyacdn.com/media/04b9401070a729593631ef634afe5991/8973/eae90ed1262859875da7264ef63bce30.png" alt="">
                        <p>扫码下载APP</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="base_top">
            <div class="content">
                <div class="base_top_left">
                    <ul>
                        <li>
                            <p>关于我们</p>
                            <a href="">商户介绍</a>
                            <a href="">正品承诺</a>
                            <a href="">联系我们</a>
                        </li>
                        <li>
                            <p>物流配送</p>
                            <a href="">配送方式</a>
                            <a href="">运费标准</a>
                            <a href="">物流跟踪</a>
                        </li>
                        <li>
                            <p>售后政策</p>
                            <a href="">退货退款政策</a>
                            <a href="">退货退款流程</a>
                            <a href="">联系客服</a>
                        </li>
                        <li>
                            <p>网站政策</p>
                            <a href="">服务条款</a>
                            <a href="">隐私权保护政策</a>
                            <a href="">消费者告知书</a>
                        </li>
                        <li>
                            <p>消费者指南</p>
                            <a href="">购物流程</a>
                            <a href="">常见问题</a>
                            <a href="">关税发票</a>
                        </li>
                    </ul>
                </div>
                <div class="base_top_right">
                    <p>
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAMAAACO0hVbAAAAdVBMVEUAAAAdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7htc98ZAAAAJnRSTlMA7wkZjCb69ElAMRUQzcrBv29f59/Fn5V9dGZUNiwe1dDCuK+BWRCKzIQAAACfSURBVBjTXc5XDoMwEEXRcQMXeugtffa/xNhgCHB/RjrSkwb2KJyj/TNO46w4kEhaYw/jFduIPTTtqjLNqYojb2/J7uhKom+9kiLwwrUaAr0sQyJwyyBxa4lk2E0hjtZMSORuI96WPzWPAk+ENgJ8H285HOJOgvYPOhtAdDyfocimlWSAmBbCTH2CGCpHc4jHCLPW4Dlu7XaxEoDiNfgBRNQYVsEJrCAAAAAASUVORK5CYII=" alt="">
                        <a href="#">在线客服</a>
                    </p>
                    <p>
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAMAAAAhxq8pAAAAYFBMVEUdb7gdb7gdb7gAAAAdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7iK75bUAAAAH3RSTlOQMA8AalvQeKU/++GHN/Ls07+fdEwU9tTHr5V6KSQeRbEGSgAAAHtJREFUGNNlzlkOwyAMRdFXDE3NkDmdW+9/l4WIfuDcL3SEZYPoe2rbCATRWZA/4AjqtPkVxmp1C4wodZdzxqyNScFGs1Wctr+6d6j44MF29d+YbjvO61XELl76MhvSPWN0+/nPxDyVx8ARZEXVM4y2sojCAWfQJ6LtZX7wPBsN/TA65gAAAABJRU5ErkJggg==" alt="">
                        <span>联系客服:china@pharmacyonline.com.au</span>
                    </p>
                    <p>
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAMAAACqTK3AAAAAUVBMVEUAAAAdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7gdb7joJogaAAAAGnRSTlMAUPjBaeCwhlowDgfQQfDm2b24nIWAdx3UyWdOyZwAAACASURBVBjTXcpZAsIgDEXRV0qZ6Two+1+oQESE+xM4CSjjlfIGNS1YiDGhi8jwS5Ic+XNdeRxJOO2HgSYHzNzSbOiIqJztPe2YeprACnnnXNozLIWQirZg/NJrjL3jY8Qdum48rBX2AGdLJwC7/ctmkUxUERaUWglWhZrmUnKN3Ad+SBZ35HXG0wAAAABJRU5ErkJggg==" alt="">
                        <span>中文客服的工作时间为周一至周五9:00- 18:00(北京时间)</span>
                    </p>
                </div>
    
            </div>
        </div>
        <div class="base_middle">
            <div class="content">
                <img src="https://po-assets.azoyacdn.com/skin/frontend/PlumTree/po_pc_v2/images/bottom/code_13.png" alt="">
                <img src="https://po-assets.azoyacdn.com/skin/frontend/PlumTree/po_pc_v2/images/bottom/code_15.png" alt="">
                <img src="https://po-assets.azoyacdn.com/skin/frontend/PlumTree/po_pc_v2/images/bottom/code_weixin.png" alt="">
                <img src="https://po-assets.azoyacdn.com/skin/frontend/PlumTree/po_pc_v2/images/bottom/code_17.png" alt="">
                <img src="https://po-assets.azoyacdn.com/skin/frontend/PlumTree/po_pc_v2/images/bottom/code_19.png" alt="">    
            </div>
        </div>
        <div class="base_bottom">
            <div class="content">
                <p>All prices are in Australian Dollars.</p>
                <span></span>
            </div>
        </div>
    </div>
    <div id="sidebar">
        <div>
            <a href="#"></a>
            <img src="https://basedata.azoyacdn.com/uploads/basedata/images/8151e43b35ffa62a5574f4d3987d1073.jpg" alt="">
        </div>
        <div>
            <a href="https://weibo.com/p/1006065135758610/home?is_all=1"></a>
        </div>
        <div>
            <a href="./购物车.html"></a>
        </div>
        <div id="db">
            <a href="#"></a>
        </div>
    </div>
    <div id="tsk">
        <h2>成功添加购物车</h2>
        <button id="qd">确定</button>
    </div>
</body>
</html>
<script type="text/javascript">
    function getScroll(){
    if(window.pageYOffset){
        return {
            top:window.pageYOffset,
            left:window.pageXOffset
        }
    }else if(document.documentElement.scrollLeft){
        return {
            top:document.documentElement.scrollTop,
            left:document.documentElement.scrollLeft
        }
    }else{
        return {
            top:document.body.scrollTop,
            left:document.body.scrollLeft
        }
    }
}

		var data = [{
        img:"https://po-assets.azoyacdn.com/media/catalog/product/u/n/unichi_6.jpg?imageMogr2/thumbnail/159x159/extent/159x159/background/d2hpdGU=",
        price:"99",
        name:"[买二送一] Unichi深海四十寻神奇修护精华面霜50ml (送1瓶神奇修复精华)",
        goodsId:"123asd"
    }];
    
    class GoodsList{
    	constructor(){
    		this.data = data;
    		this.cont = document.querySelector(".cont");
    	}
        init(){
    	  var str = "";
    	  for(var i = 0;i<this.data.length;i++){
              console.log(this.data.length)
              str += `
            <div id="main" class="goods" >
            <div class="content">
            <div class="detail">
                <div id="box">
                    <div id="smallBox" >
                        <img src="${this.data[i].img}" alt="" width="350px" height="350px"/>
                        <div id="mask"></div> <!-- 遮罩层:175*175 -->
                    </div>
                    <div id="bigBox">
                        <img src="https://po-assets.azoyacdn.com/media/catalog/product/u/n/unichi_6.jpg?imageMogr2/thumbnail/800x800/extent/800x800/background/d2hpdGU=" alt="" id="bigImg" width="800px" height="800px"/>
                    </div>    
                    <div class="bb">
                        <p>
                            因产品包装更换频繁，实物与图片可能有差异，请以实物为准
                        </p>
                        <p>* SKU: <span>MZ1000627</span></p>
                    </div>    
                </div>
                <div id="box2">
                    <div class="b21" 
                        <h2>${this.data[i].name}</h2>
                        <p>* 袭直接拍 买2瓶精华面霜送1瓶神奇修复精华30ml</p>
                    </div>
                    <div class="b22" >
                        <p>促销价<span class='price'>${this.data[i].price} <i>7.9折</i></span></p>
                        <p>原&nbsp;价<span>AU$125.90</span></p>
                    </div>
                    <div class="b23">
                        <div class="b23left">活动</div>
                        <div class="b23right">
                            <ul>
                                <li>满79澳减8澳<a href="">查看详情</a></li>
                                <li>爆款奶粉限时到货<a href="">查看详情</a></li>
                                <li>新品尝鲜低至52折<a href="">查看详情</a></li>
                                <li>热销排行33折起<a href="">查看详情</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="b24">
                        <div class="b24left">优惠券</div>
                        <div class="b24right">
                            <ul>
                                <li>满79澳减8澳券<a href="">立即领取</a></li>
                                <li>爆款奶粉限时到货券<a href="">立即领取</a></li>
                            </ul>
                        </div>

                    </div>
                    <div class="b25">
                        <div class="b25left">税费</div>
                        <p>所有商品价格已包含进口税费，您无需额外支付税费</p>
                    </div>
                    <div class="b26">
                        <div class="b26left">发货</div>
                        <p>正常情况下，预计派送时效为10-15个工作日</p>
                    </div>
                    <div class="b27"></div>
                    <div class="b28" index="${this.data[i].goodsId}">
                        <input type="button" value="加入购物车" class="add" id="lsh">
                    </div>
                </div>
            </div>
        </div>
    </div>

              `
    	  }
    	  this.cont.innerHTML = str;
        }
         addEvent(){
         	    var that = this;
         	    this.cont.onclick = function(eve){
         		var e = eve || window.event;
         		var tar = e.target ||e.srcElement;
         		if(tar.className == "add"){
         			that.goodsId = tar.parentNode.getAttribute("index");
                 that.setData();
         		}
         	}
         }
         
         setData(){
         	var gm = localStorage.getItem("goodsMsg");
            if(gm == null){
               gm = [{
               	goodsId:this.goodsId,
               	num:1,
               	msg:this.getData(this.goodsId)               	
               }]
            }
            else{
                gm = JSON.parse(gm);
                var zhuangtai = 0;
                for(var i = 0;i<gm.length;i++){
                	if(gm[i].goodsId == this.goodsId){
                		gm[i].num++;
                		zhuangtai = 1;
                		break;
                	}
                }
                if(zhuangtai == 0){
                	gm.push({
                		goodsId:this.goodsId,
                        num:1,
                        msg:this.getData(this.goodsId)
                	})
                }
            }
            localStorage.setItem("goodsMsg",JSON.stringify(gm));
         }
         
         getData(id){
         	for(var i = 0;i<this.data.length;i++){
         		if(this.data[i].goodsId ==id){
         			return this.data[i];
         		}
         	}
         	return {};
         }
    }
    var gl = new GoodsList();
    gl.init();
    gl.addEvent();
    




    smallBox.onmouseover=function(){ 
        mask.style.display='block' 
        bigBox.style.display='block' 
    }

    smallBox.onmouseout=function(){ 
        mask.style.display='none'  
        bigBox.style.display='none' 
    }

    smallBox.onmousemove=function(e){ 
        e=e||window.event
        var x=e.clientX+getScroll().left-box.offsetLeft-mask.offsetWidth/2; 
        var y=e.clientY+getScroll().left-box.offsetTop-mask.offsetHeight/2; 
        if(x<0){
            x=0
        }
        if(x>smallBox.offsetWidth-mask.offsetWidth){ 
			x = smallBox.offsetWidth-mask.offsetWidth
		}
		if(y<0){
			y = 0
		}
		if(y>smallBox.offsetHeight - mask.offsetHeight){
			y = smallBox.offsetHeight - mask.offsetHeight
        }
        mask.style.left = x+"px" 
        mask.style.top = y+"px" 
        var left = x/smallBox.offsetWidth*bigImg.offsetWidth
        var top= y/smallBox.offsetHeight*bigImg.offsetWidth
        bigImg.style.left=-left+'px' 
        bigImg.style.top=-top+'px'
    }
    
        lsh.onclick=function(){
            tsk.style.display='block'
        }
        qd.onclick=function(){
            tsk.style.display='none'
        }
	</script>
